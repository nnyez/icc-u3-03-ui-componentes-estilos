import{a as ce,b as pe,c as de,d as ue,g as fe,m as he,r as g}from"./chunk-7T4TD45U.js";import{a as ne,c as j,d as oe,f as ae,g as v,h as le,i as se,j as me}from"./chunk-QOGA6DDO.js";import{i as ie,j as re}from"./chunk-YWZJFH4M.js";import{Ab as o,Bb as E,Cb as D,F as z,Fa as m,Fb as U,Ib as W,Jb as X,Lb as ee,Ob as te,P as B,Ua as b,V as O,_ as s,da as c,db as C,ea as p,eb as k,fa as S,fb as K,ga as y,gb as q,hb as Y,ib as R,jb as n,kb as l,lb as d,ma as J,mb as u,na as A,nb as f,ob as $,pb as x,rb as h,sb as Z,tb as w,u as H,yb as Q}from"./chunk-AKAGUU27.js";var T=(e,i)=>{let t=s(g),r=s(v);return t.user$.pipe(z(1),H(a=>!!a),B(a=>{a||(console.log("authGuard: Usuario no autenticado \u2192 redirigiendo"),r.navigate(["/login"],{queryParams:{returnUrl:i.url}}))}))};var P=()=>{let e=s(g),i=s(v);return e.isAuthenticated()?(i.navigate(["/simpson-page"]),!1):!0};var ve=(e,i)=>{let t=s(g),r=s(v);return t.isAuthenticated()?t.hasRole("admin")?(console.log("\u2705 adminGuard: Usuario es admin, permitiendo acceso"),!0):(console.log("\u274C adminGuard: Usuario no es admin, acceso denegado"),r.navigate(["/forbidden"]),!1):(r.navigate(["/login"],{queryParams:{returnUrl:i.url}}),!1)};var ge=[{path:"",redirectTo:"simpson-page",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-DNXHPAP6.js").then(e=>e.LoginPage),canActivate:[P]},{path:"register",loadComponent:()=>import("./chunk-WMGJND66.js").then(e=>e.RegisterPage),canActivate:[P]},{path:"home",loadComponent:()=>import("./chunk-PDRULHYD.js").then(e=>e.DaisyuiPage),canActivate:[T]},{path:"estilos-page",loadComponent:()=>import("./chunk-63BOHFZU.js").then(e=>e.EstilosPage),canActivate:[T]},{path:"simpson-page",loadComponent:()=>import("./chunk-BB7QMOK4.js").then(e=>e.SimpsonsPage),canActivate:[T]},{path:"simpson-page/:id",loadComponent:()=>import("./chunk-ACUIV37P.js").then(e=>e.SimpsonsDetail),canActivate:[T]},{path:"admin",loadComponent:()=>import("./chunk-BP4XPOOE.js").then(e=>e.AdminPage),canActivate:[T,ve]},{path:"**",redirectTo:"home"}];var _e={apiKey:"AIzaSyCcSCzOS7Lj-UeAdLNDCy7oNMJJzR1t4j8",authDomain:"ui-components-d42c0.firebaseapp.com",projectId:"ui-components-d42c0",storageBucket:"ui-components-d42c0.firebasestorage.app",messagingSenderId:"200766859318",appId:"1:200766859318:web:1582c32b14637056fbd097"},we={providers:[J(),j(oe()),ee(),me(ge),j(),ce(()=>pe(_e)),de(()=>ue()),fe(()=>he())]};var N=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"footer","footer-horizontal","footer-center","bg-base-200","text-base-content","rounded","p-10"],[1,"grid","grid-flow-col","gap-4"],[1,"link","link-hover"]],template:function(t,r){t&1&&(u(0,"footer",0)(1,"nav",1)(2,"a",2),o(3,"About"),f(),u(4,"a",2),o(5,"Contact"),f(),u(6,"a",2),o(7,"Jobs"),f()(),u(8,"aside")(9,"p"),o(10,"Copyright \xA9 2025 - All rights reserved"),f()()())},encapsulation:2})};var V=class e{THEME_KEY="app-theme";themes=["light","dark","coffee"];saveTheme(i){let t=JSON.stringify(i);localStorage.setItem(this.THEME_KEY,t)}getTheme(){let i=localStorage.getItem(this.THEME_KEY);return i?JSON.parse(i):"dark"}setTheme(i){document.documentElement.setAttribute("data-theme",i),this.saveTheme(i)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})};function xe(e,i){if(e&1){let t=x();u(0,"li")(1,"button",6),Z("click",function(){let a=c(t).$implicit,_=w();return p(_.setTheme(a))}),o(2),W(3,"titlecase"),f()()}if(e&2){let t=i.$implicit,r=w();m(),Q("active",r.currentTheme()===t),m(),D(" ",X(3,3,t)," ")}}var F=class e{constructor(){te(()=>{this.setTheme(this.currentTheme())})}themes=["light","dark","coffee"];themeRepository=s(V);currentTheme=A(this.getCurrentTheme());getCurrentTheme(){return this.themeRepository.getTheme()}setTheme(i){this.currentTheme.set(i),this.themeRepository.setTheme(i)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-theme-switcher"]],decls:10,vars:1,consts:[[1,"dropdown","dropdown-top","lg:dropdown-bottom"],["tabindex","0",1,"btn","btn-ghost"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","mr-1"],["stroke-linecap","round","stroke-linejoin","round","d","M12 3v1.5M12 19.5V21M4.22 4.22l1.06 1.06M18.72 18.72l1.06 1.06M1.5 12H3m18 0h1.5M4.22 19.78l1.06-1.06M18.72 5.28l1.06-1.06M12 6a6 6 0 000 12a6 6 0 000-12z"],[1,"ml-1","capitalize"],["tabindex","0",1,"dropdown-content","menu","bg-base-100","rounded-box","w-40","shadow"],[3,"click"]],template:function(t,r){t&1&&(u(0,"div",0)(1,"button",1),S(),u(2,"svg",2),$(3,"path",3),f(),o(4," Tema: "),y(),u(5,"span",4),o(6),f()(),u(7,"ul",5),q(8,xe,4,5,"li",null,K),f()()),t&2&&(m(6),E(r.currentTheme()),m(2),Y(r.themes))},dependencies:[re,ie],encapsulation:2})};var be=()=>({exact:!0});function Se(e,i){if(e&1){let t=x();n(0,"button",24),h("click",function(){c(t);let a=w();return p(a.navigateToLogin())}),o(1,"Iniciar Sesi\xF3n"),l()}}function Ce(e,i){if(e&1){let t=x();n(0,"div",13)(1,"label",25)(2,"div",26)(3,"span"),o(4),l()()(),n(5,"ul",27)(6,"li",28)(7,"span"),o(8),l()(),n(9,"li")(10,"button",29),h("click",function(){c(t);let a=w();return p(a.logout())}),S(),n(11,"svg",30),d(12,"path",31),l(),o(13," Cerrar Sesi\xF3n "),l()()()()}if(e&2){let t,r,a=w();m(4),E((t=a.currentUser())==null||t.email==null||(t=t.email.charAt(0))==null?null:t.toUpperCase()),m(4),E((r=a.currentUser())==null?null:r.email)}}function ke(e,i){e&1&&(n(0,"li")(1,"a",32),o(2," \u{1F451} Panel Admin "),l()())}function Ee(e,i){e&1&&(n(0,"li")(1,"a",32),o(2," \u{1F451} Panel Admin "),l()())}function Te(e,i){if(e&1){let t=x();n(0,"div",33)(1,"label",25)(2,"div",26)(3,"span"),o(4),l()()(),n(5,"div",34)(6,"p",35),o(7),l()()(),n(8,"button",36),h("click",function(){c(t);let a=w();return p(a.logout())}),S(),n(9,"svg",30),d(10,"path",31),l(),o(11," Cerrar Sesi\xF3n "),l()}if(e&2){let t,r,a=w();m(4),E((t=a.currentUser())==null||t.email==null||(t=t.email.charAt(0))==null?null:t.toUpperCase()),m(3),D(" ",(r=a.currentUser())==null?null:r.email," ")}}var L=class e{authService=s(g);router=s(v);closeDrawer(){let i=document.getElementById("my-drawer-2");i&&(i.checked=!1)}currentUser=this.authService.currentUser;navigateToLogin(){this.router.navigate(["/login"])}isAuthenticated(){return this.authService.isAuthenticated()}logout(){confirm("\xBFCerrar sesi\xF3n?")&&this.authService.logout().subscribe({next:()=>{this.router.navigate(["/login"])},error:i=>{console.error("Error al cerrar sesi\xF3n:",i),alert("Error al cerrar sesi\xF3n")}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-navbar-drawer"]],decls:44,vars:9,consts:[["drawerToggle",""],[1,"drawer"],["id","my-drawer-2","type","checkbox",1,"drawer-toggle"],[1,"drawer-content","flex","flex-col"],[1,"navbar","bg-base-300","w-full"],[1,"flex-none","lg:hidden"],["for","my-drawer-2","aria-label","open sidebar",1,"btn","btn-square","btn-ghost"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"inline-block","h-6","w-6","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"sm:flex","hidden"],[1,"mx-2","flex-1"],[1,"flex","justify-start"],[1,"btn","btn-primary"],[1,"dropdown","dropdown-start"],[1,"lg:block"],[1,"menu","menu-horizontal"],["routerLink","/estilos-page","routerLinkActive","bg-primary text-primary-content",3,"click"],["routerLink","/simpson-page","routerLinkActive","bg-primary text-primary-content",3,"click"],["routerLink","/home","routerLinkActive","bg-primary text-primary-content",3,"click","routerLinkActiveOptions"],[1,"drawer-side","flex","flex-col","justify-between"],["for","my-drawer-2","aria-label","close sidebar",1,"drawer-overlay"],[1,"menu","bg-base-200","min-h-full","w-80","p-4"],["routerLink","/","routerLinkActive","bg-primary text-primary-content",3,"click","routerLinkActiveOptions"],[1,"p-4","border-t","border-base-300","bg-base-300","w-80"],[1,"btn","btn-primary",3,"click"],["tabindex","0",1,"btn","btn-ghost","btn-circle","avatar"],[1,"w-10","rounded-full","bg-primary","text-primary-content","flex","items-center","justify-center"],["tabindex","0",1,"mt-3","z-1","p-2","shadow","menu","menu-sm","dropdown-content","bg-base-100","rounded-box","w-auto"],[1,"menu-title","text-gray-100"],[1,"text-error","hover:bg-error","hover:text-error-content",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],["routerLink","/admin"],[1,"flex","items-center","gap-3","p-3","bg-base-300","rounded-lg"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","truncate"],[1,"btn","btn-error","btn-sm","w-full",3,"click"]],template:function(t,r){if(t&1){let a=x();n(0,"header")(1,"div",1),d(2,"input",2,0),n(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),S(),n(8,"svg",7),d(9,"path",8),l()()(),y(),n(10,"div",9)(11,"div",10)(12,"div",11),C(13,Se,2,0,"button",12),C(14,Ce,14,2,"div",13),l()(),n(15,"div",14)(16,"ul",15),C(17,ke,3,0,"li"),n(18,"li")(19,"a",16),h("click",function(){return c(a),p(r.closeDrawer())}),o(20,"Estilos"),l()(),n(21,"li")(22,"a",17),h("click",function(){return c(a),p(r.closeDrawer())}),o(23,"Simpsons"),l()(),n(24,"li")(25,"a",18),h("click",function(){return c(a),p(r.closeDrawer())}),o(26,"Home"),l()()(),d(27,"app-theme-switcher"),l()()()(),n(28,"div",19),d(29,"label",20),n(30,"ul",21),C(31,Ee,3,0,"li"),n(32,"li")(33,"a",16),h("click",function(){return c(a),p(r.closeDrawer())}),o(34,"Estilos"),l()(),n(35,"li")(36,"a",17),h("click",function(){return c(a),p(r.closeDrawer())}),o(37,"Simpsons"),l()(),n(38,"li")(39,"a",22),h("click",function(){return c(a),p(r.closeDrawer())}),o(40,"Home"),l()()(),n(41,"div",23),C(42,Te,12,2),d(43,"app-theme-switcher"),l()()()()}t&2&&(m(13),k(r.isAuthenticated()?-1:13),m(),k(r.isAuthenticated()&&r.currentUser()?14:-1),m(3),k(r.authService.hasRole("admin")?17:-1),m(8),R("routerLinkActiveOptions",U(7,be)),m(6),k(r.authService.hasRole("admin")?31:-1),m(8),R("routerLinkActiveOptions",U(8,be)),m(3),k(r.isAuthenticated()&&r.currentUser()?42:-1))},dependencies:[le,se,F],encapsulation:2})};var I=class e{title=A("03-ui-componentes-estilos");authService=s(g);router=s(v);currentUser=this.authService.currentUser;logout(){this.authService.logout().subscribe({error:i=>console.error("Error cerrando sesi\xF3n",i)})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"m-auto","grow","flex","flex-col","min-h-screen","pt-5"]],template:function(t,r){t&1&&(d(0,"app-navbar-drawer"),n(1,"main",0),d(2,"router-outlet"),l(),d(3,"app-footer"))},dependencies:[ae,L,N],encapsulation:2})};ne(I,we).catch(e=>console.error(e));
